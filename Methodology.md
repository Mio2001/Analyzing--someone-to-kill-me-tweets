# Methodology

### *This is the methodology for the code and explains the process alongside where and how the data used was obtained.*

The suicide statistics utilized in this study were sourced from Japan‚Äôs Ministry of Health, Labor, and Welfare‚Äôs (MHLW) annual report on suicides Jisatsu no Tokei: kakutoshi no jokyo Ëá™ÊÆ∫„ÅÆÁµ±Ë®àÔºöÂêÑÂπ¥„ÅÆÁä∂Ê≥Å (Suicide Statistics: Situation by Year) for the year 2022. To further enhance the analysis, additional data on the monthly number of suicides spanning from 2008 to 2022 was obtained from the MHLW‚Äôs supplementary data releases. 

Conducting basic exploratory data analysis on this information, a line graph was plotted to visualize the number of suicides for each month in 2022 and compared these monthly figures across several years. Additionally, the monthly averages for all years were calculated and plotted to discern any potential trends or patterns.

To gather relevant tweets for this analysis, snscrape was used, a tool by JustAnotherArchivist on Github, to scrape Twitter data containing the search term ‚Äú ÊÆ∫„Åó„Å¶„Åè„Çå„Çã‰∫∫‚Äù (someone to kill me) from January 1, 2013, to January 1, 2023. This provided a substantial dataset of tweets to conduct further exploratory data analysis and search for any noteworthy patterns. 

The exploration of these tweets encompassed various aspects, including the number of tweets posted per year and month. The aim of examining this data is to identify any temporal trends related to the usage of this key phrase on Twitter. Furthermore, emotion mining is performed on these tweets to assess the emotional reactions of the writers and readers of the tweets. 

The emotion mining technique employed in this study draws inspiration from Ramos et. al‚Äôs research paper ‚ÄúEmotion Analysis of Writers and Readers of Japanese Tweets on Vaccination‚Äù [2022]. Ramos et. al. focused on investigating the emotions expressed by Japanese Twitter users in relation to tweets about COVID-19 vaccinations, utilizing the WRIME dataset, for emotion ratings. To predict emotional intensity levels, they used a fine-tuned BERT model, an open-source machine learning framework for natural language processing (NLP) designed to comprehend the contextual meaning of ambiguous language in text by considering surrounding text. 

In their study, BERT was utilized to extract emotions felt by both tweet writers and readers towards COVID-19 vaccine-related tweets. The predicted emotional intensity scores were then compared to the uptake of vaccinations. Plutchik's framework, encompassing eight emotions - joy, sadness, anticipation, surprise, anger, fear, disgust, and trust, served as the basis for fine-tuning BERT to derive intensity scores for writers and readers of tweets.

Before feeding the input texts into the BERT model, tokenization using MeCab and WordPiece was carried out. Each text was then preprocessed with a [CLS] classification token and processed through the BERT model. Following the final layer, each [CLS] token was linearly projected into 16 class scores, representing the emotions of both writers and readers.

The WRIME dataset, short for Dataset of Writers' and Readers' Intensities of Emotion for their Estimation, played a crucial role in this research. It consists of 43,200 Japanese tweets annotated with Plutchik's eight emotions by the tweet's writers and three reader annotators hired by the dataset authors to assess the posts. Each emotion is annotated across four levels (ranging from 0 to 30, indicating increasing emotional intensity), where 0 represents the absence of an emotion and 3 indicates a high intensity of the emotion. To create a unified set of reader emotion scores for each data point, the average score across the three readers was taken. BERT was subsequently trained using mean squared error loss to directly predict emotional intensity scores for both writers and readers based on the given tweets.

In the fine-tuning process, BERT was trained on the WRIME dataset for three epochs using the AdamW optimizer with specific parameters, such as a learning rate of 2e-5, ùõΩ1 = 0.9, ùõΩ2 = 0.999, weight decay of 0.01, linear decay, a warmup ratio of 0.01, and a batch size of 32. The resulting fine-tuned BERT model was referred to as "emotion analysis BERT," serving as a powerful tool for analyzing emotional intensity in Japanese tweets related to vaccination and other topics of interest.

Following the fine-tuning process of BERT and the computation of emotion scores for the dataset encompassing tweets with the key phrase " ÊÆ∫„Åó„Å¶„Åè„Çå„Çã‰∫∫" (someone to kill me), the emotional distributions of both tweet writers and readers were analyzed. To visualize these findings, a box plot was constructed, showcasing the variability and central tendencies of emotional intensity scores for both groups. Additionally, a Q-Q plot was generated, which allows for examination of the alignment of the distributions of emotional intensity scores between these two groups. 
